import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Load the dataset
file_path = 'MachineLearningRating_v3.txt'
df = pd.read_csv(file_path, delimiter='|')

# Set a general style for all plots
sns.set(style="whitegrid")

# Separate numerical and categorical columns
numerical_cols = df.select_dtypes(include=['int64', 'float64']).columns
categorical_cols = df.select_dtypes(include=['object', 'category']).columns

# Function to plot histograms for numerical columns
def plot_numerical_distribution(df, cols):
    for col in cols:
        plt.figure(figsize=(10, 6))
        sns.histplot(df[col], kde=True, bins=30, color='blue')
        plt.title(f'Distribution of {col}', fontsize=16)
        plt.xlabel(col, fontsize=12)
        plt.ylabel('Frequency', fontsize=12)
        plt.grid(True)
        plt.show()

# Function to plot bar charts for categorical columns
def plot_categorical_distribution(df, cols):
    for col in cols:
        plt.figure(figsize=(10, 6))
        sns.countplot(x=df[col], palette="Set2")
        plt.title(f'Distribution of {col}', fontsize=16)
        plt.xlabel(col, fontsize=12)
        plt.ylabel('Count', fontsize=12)
        plt.grid(True)
        plt.xticks(rotation=45, ha='right')
        plt.show()

# Plot histograms for numerical columns
print("Plotting histograms for numerical columns...")
plot_numerical_distribution(df, numerical_cols)

# Plot bar charts for categorical columns
print("Plotting bar charts for categorical columns...")
plot_categorical_distribution(df, categorical_cols)
