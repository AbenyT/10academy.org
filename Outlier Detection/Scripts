import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Load the dataset
file_path = 'MachineLearningRating_v3.txt'
data = pd.read_csv(file_path, delimiter='|')

# Convert 'TransactionMonth' to datetime
data['TransactionMonth'] = pd.to_datetime(data['TransactionMonth'])

# List of numerical columns for outlier detection
numerical_columns = [
    'RegistrationYear', 'cubiccapacity', 'kilowatts', 'CustomValueEstimate', 
    'CapitalOutstanding', 'SumInsured', 'CalculatedPremiumPerTerm', 'TotalPremium'
]

# Initialize the figure for box plots
plt.figure(figsize=(14, 10))

# Plot box plots for each numerical column to detect outliers
for i, column in enumerate(numerical_columns, 1):
    plt.subplot(3, 3, i)
    sns.boxplot(x=data[column])
    plt.title(f'Box Plot of {column}')
    plt.xlabel(column)

# Adjust layout to prevent overlap
plt.tight_layout()

# Show the plots
plt.show()
